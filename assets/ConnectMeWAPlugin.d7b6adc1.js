import"https://unpkg.com/@workadventure/scripting-api-extra@1.4.4/dist/bundle.js";WA.onInit().then(()=>{console.log("Current player name: ",WA.player.name)});lastDirection="nothing";function n(o){console.log(o),lastDirection=o.direction}WA.player.onPlayerMove(n);WA.room.area.onEnter("AdminOffice1").subscribe(()=>{const o={action:"setStatus",body:"available"};parent.postMessage(JSON.stringify(o),"*")});WA.room.area.onEnter("Collide").subscribe(()=>{console.log("collide"),position=WA.plater.getPosition(),lastDirection==="down"&&WA.player.moveTo(position.x,position.y-2,10)});WA.room.area.onLeave("AdminOffice1").subscribe(()=>{const o={action:"setStatus",body:"out_of_office"};parent.postMessage(JSON.stringify(o),"*")});WA.room.area.onEnter("AdminOffice2").subscribe(()=>{const o={action:"setStatus",body:"meeting"};parent.postMessage(JSON.stringify(o),"*");const e={action:"setMood",body:"In Green room"};parent.postMessage(JSON.stringify(e),"*")});WA.room.area.onLeave("AdminOffice2").subscribe(()=>{const o={action:"setStatus",body:"available"};parent.postMessage(JSON.stringify(o),"*");const e={action:"setMood",body:"---"};parent.postMessage(JSON.stringify(e),"*")});
