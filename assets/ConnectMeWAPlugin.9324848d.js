import"https://unpkg.com/@workadventure/scripting-api-extra@1.4.4/dist/bundle.js";WA.onInit().then(()=>{console.log("Current player name: ",WA.player.name)});WA.player.state.lastDirection="nothing";function e(o){console.log(o),WA.player.state.lastDirection=o.direction}WA.player.onPlayerMove(e);WA.room.area.onEnter("AdminOffice1").subscribe(()=>{const o={action:"setStatus",body:"available"};parent.postMessage(JSON.stringify(o),"*")});WA.room.area.onEnter("Collide").subscribe(()=>{console.log("collide"),position=WA.plater.getPosition(),WA.plater.state.lastDirection==="down"&&WA.player.moveTo(position.x,position.y-2,10),WA.plater.state.lastDirection==="up"&&WA.player.moveTo(position.x,position.y+2,10),WA.plater.state.lastDirection==="left"&&WA.player.moveTo(position.x+2,position.y-2,10),WA.plater.state.lastDirection==="right"&&WA.player.moveTo(position.x-2,position.y-2,10)});WA.room.area.onLeave("AdminOffice1").subscribe(()=>{const o={action:"setStatus",body:"out_of_office"};parent.postMessage(JSON.stringify(o),"*")});WA.room.area.onEnter("AdminOffice2").subscribe(()=>{const o={action:"setStatus",body:"meeting"};parent.postMessage(JSON.stringify(o),"*");const t={action:"setMood",body:"In Green room"};parent.postMessage(JSON.stringify(t),"*")});WA.room.area.onLeave("AdminOffice2").subscribe(()=>{const o={action:"setStatus",body:"available"};parent.postMessage(JSON.stringify(o),"*");const t={action:"setMood",body:"---"};parent.postMessage(JSON.stringify(t),"*")});
